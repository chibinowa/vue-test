webpackJsonp([1],{103:function(e,t,n){n(95);var r=n(5)(n(49),n(109),"data-v-19302158",null);e.exports=r.exports},104:function(e,t,n){n(97);var r=n(5)(n(50),n(111),"data-v-72bbcc4f",null);e.exports=r.exports},105:function(e,t,n){n(98);var r=n(5)(n(51),n(112),"data-v-c5f77c04",null);e.exports=r.exports},106:function(e,t,n){n(96);var r=n(5)(n(52),n(110),"data-v-51593abf",null);e.exports=r.exports},107:function(e,t,n){n(99);var r=n(5)(n(53),n(113),"data-v-fab9fbe8",null);e.exports=r.exports},108:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("ul",[n("li",[n("router-link",{attrs:{to:"/"}},[e._v("index")])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:"/member"}},[e._v("member")])],1)]),e._v(" "),n("router-view",{staticClass:"router"})],1)},staticRenderFns:[]}},109:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"home"},[e._v("\n  home\n")])},staticRenderFns:[]}},110:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"detail"},[e._v("\n  detail "+e._s(e.member)+"\n")])},staticRenderFns:[]}},111:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("member page")]),e._v(" "),n("router-view",{staticClass:"router"})],1)},staticRenderFns:[]}},112:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[null!=e.editid?n("div",{attrs:{id:"control-modal"},on:{click:function(t){if(t.target!==t.currentTarget)return null;e.$emit("close")}}},[n("div",{staticClass:"body"},[n("h1",[e._v(e._s(e.title))]),e._v(" "),n("form",{on:{submit:function(t){t.preventDefault(),e.onSaveMember(t)}}},[n("button",{staticStyle:{display:"none"},attrs:{type:"submit"}}),e._v(" "),n("transition",{attrs:{name:"modal"}},[e.error?n("div",{staticClass:"error",on:{click:function(t){if(t.target!==t.currentTarget)return null;e.$store.commit("item/resetError")}}},[e._v(e._s(e.error))]):e._e()]),e._v(" "),n("dl",[n("dt",[e._v("名前")]),e._v(" "),n("dd",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.intarnal.name,expression:"intarnal.name"}],domProps:{value:e.intarnal.name},on:{input:function(t){t.target.composing||(e.intarnal.name=t.target.value)}}})]),e._v(" "),n("dt",[e._v("レベル")]),e._v(" "),n("dd",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.intarnal.lv,expression:"intarnal.lv",modifiers:{number:!0}}],attrs:{size:"3"},domProps:{value:e.intarnal.lv},on:{input:function(t){t.target.composing||(e.intarnal.lv=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])])],1),e._v(" "),n("footer",[n("div",{staticClass:"left"},[n("button",{attrs:{type:"button"},on:{click:function(t){e.$emit("close")}}},[e._v("閉じる")])]),e._v(" "),n("div",{staticClass:"right"},[n("button",{attrs:{type:"button"},on:{click:e.onSaveMember}},[e._v("保存する")])])])])]):e._e()])},staticRenderFns:[]}},113:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"member-list"}},[n("h3",[e._v("Members")]),e._v(" "),n("ul",[e._l(e.orderMembers("sort"),function(t){return n("li",[n("div",{staticClass:"name"},[e._v("\n        ["+e._s(t.id)+"]\n        "),n("router-link",{attrs:{to:{name:"member-detail",params:{id:t.id}}}},[e._v(e._s(t.name))])],1),e._v(" "),n("div",{staticClass:"lv"},[e._v("Lv."+e._s(t.lv))]),e._v(" "),n("div",{staticClass:"control"},[n("button",{on:{click:function(n){e.$store.dispatch("member/delete",t.id)}}},[e._v("削除")]),e._v(" "),n("button",{on:{click:function(n){e.editid=t.id}}},[e._v("編集")])])])}),e._v(" "),e.loading?n("li",{staticClass:"loading"},[e._v("loading")]):e._e()],2),e._v(" "),n("div",{staticClass:"add"},[n("button",{on:{click:function(t){e.editid=-1}}},[e._v("追加")])]),e._v(" "),n("member-modal",{attrs:{editid:e.editid},on:{close:function(t){e.editid=null}}})],1)},staticRenderFns:[]}},117:function(e,t){},41:function(e,t,n){"use strict";var r=n(8),i=n(114);r.a.use(i.a),t.a=new i.a({mode:"history",base:"/vue-test/",routes:[{path:"/",component:n(103)},{path:"/member",component:n(104),children:[{path:"/",component:n(107)},{path:":id",name:"member-detail",component:n(106)}]}]})},42:function(e,t,n){"use strict";var r=n(8),i=n(14),o=n(47);r.a.use(i.b);var a=new i.b.Store({modules:{member:o.a}});t.a=a},44:function(e,t,n){n(94),n(93);var r=n(5)(n(48),n(108),"data-v-0da8b164",null);e.exports=r.exports},45:function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=n(54),a=n.n(o),s=n(40),u=(n.n(s),3),c=[{id:1,name:"サーバル",lv:30,sort:2},{id:2,name:"フェネック",lv:20,sort:3},{id:3,name:"アライさん",lv:10,sort:1}],d=function(){return new a.a(function(e){setTimeout(e,100)})},m=function(e){return d().then(function(){return!0===e.data.status?e.data.entry:a.a.reject(e.data)})},l={get:function(e,t){return d().then(function(){return"/vue-test/api/member/list"===e?{data:{status:!0,entry:c}}:{data:{status:!0,entry:n.i(s.find)(c,function(e){return e.id===t.id})}}})},put:function(e,t){return d().then(function(){return{data:{status:!0,entry:t.item}}})},post:function(e,t){return d().then(function(){var e=n.i(s.maxBy)(c,"sort");return{data:{status:!0,entry:i()({},t.item,{id:++u,sort:e?e.sort+1:0})}}})},delete:function(e,t){return d().then(function(){return n.i(s.remove)(c,function(e){return e.id===t.id}),{data:{status:!0}}})}},f=function(e){return a.a.reject(e.message||"ERROR")};t.a={getMembers:function(){return l.get("/vue-test/api/member/list").then(m).catch(f)},postMember:function(e,t){return l.post("/vue-test/api/member",{item:t}).then(m).catch(f)},getMember:function(e){return l.get("/vue-test/api/member/"+e,{id:e}).then(m).catch(f)},putMember:function(e,t){return l.put("/vue-test/api/member/"+e,{item:t}).then(m).catch(f)},deleteMember:function(e){return l.delete("/vue-test/api/member/"+e,{id:e}).then(m).catch(f)}}},46:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=(n.n(r),n(8)),o=n(44),a=n.n(o),s=n(41),u=n(42);i.a.config.productionTip=!1,new i.a({store:u.a,el:"#app",router:s.a,template:"<App/>",components:{App:a.a}})},47:function(e,t,n){"use strict";var r=n(8),i=n(45),o=n(40),a=(n.n(o),{namespaced:!0,state:{members:[],error:null},getters:{error:function(e){return e.error},orderMembers:function(e){return function(t){return n.i(o.orderBy)(e.members,t,"asc")}},findIndexById:function(e){return function(t){return n.i(o.findIndex)(e.members,function(e){return e.id===t})}},findMemberById:function(e){return function(t){return n.i(o.find)(e.members,function(e){return e.id===t})}},firstMember:function(e){return e.members[0]}},mutations:{setMembers:function(e,t){e.members=t},updateMember:function(e,t){var i=n.i(o.findIndex)(e.members,function(e){return e.id===t.id});r.a.set(e.members,i,t)},addMember:function(e,t){e.members.push(t)},destroy:function(e){e.members=[]},setError:function(e,t){e.error=t},resetError:function(e){e.error=null}},actions:{get:function(e,t){var n=e.commit;return i.a.getMember(t).then(function(e){n("addMember",e)})},load:function(e){var t=e.commit;return i.a.getMembers().then(function(e){t("setMembers",e)})},saveMember:function(e,t){var n=e.commit;return(-1===t.id?i.a.postMember:i.a.putMember)(t.id,t).then(function(e){-1===t.id?n("addMember",e):n("updateMember",e)}).catch(function(e){n("setError",e)})},delete:function(e,t){var n=e.commit;return i.a.deleteMember(t).then(function(e){n("destroy"),i.a.getMembers().then(function(e){n("setMembers",e)})})}}});t.a=a},48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"home",data:function(){return{}}}},50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"control",props:{reset:Boolean},data:function(){return{}},created:function(){},beforeDestroy:function(){}}},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n.n(r),o=n(17),a=n.n(o),s=n(14);t.default={name:"control-member-modal",props:{editid:Number},data:function(){return{intarnal:{}}},computed:a()({title:function(){return-1===this.editid?"追加":"編集"}},n.i(s.a)("member",["findMemberById","error"])),watch:{editid:function(){null!=this.editid&&(this.intarnal=i()({id:-1,name:"",lv:""},this.findMemberById(this.editid)))}},methods:{onSaveMember:function(){var e=this;this.$store.dispatch("member/saveMember",this.intarnal).then(function(){e.error||e.$emit("close")})}}}},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n.n(r),o=n(14);t.default={name:"detail",data:function(){return{}},computed:i()({},n.i(o.a)("member",{member:"firstMember"})),created:function(){this.$store.dispatch("member/get",parseInt(this.$route.params.id)).then(function(){}).catch(function(e){console.log(e)})}}},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n.n(r),o=n(14),a=n(105),s=n.n(a);t.default={name:"member-list",data:function(){return{loading:!0,editid:null}},computed:i()({},n.i(o.a)("member",["orderMembers"])),created:function(){var e=this;this.$store.dispatch("member/load").then(function(){e.loading=!1,console.log("取得完了")}).catch(function(e){console.log(e)})},beforeDestroy:function(){console.log("beforeDestroy"),this.$store.commit("member/destroy")},components:{MemberModal:s.a}}},93:function(e,t){},94:function(e,t){},95:function(e,t){},96:function(e,t){},97:function(e,t){},98:function(e,t){},99:function(e,t){}},[46]);